<!DOCTYPE html>
<html>
<head>
  <style>
    body { margin: 0; padding: 0; background: #222; display: flex; justify-content: center; }
    #container { 
      position: relative; 
      width: 100vw; 
      height: 100vh; 
      max-width: 1000px;
      aspect-ratio: 16 / 9;
      background-size: cover; 
      background-position: center; 
    }
    .item { 
      position: absolute; 
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body>
  <div id="container"></div>

  <script>
    const bgUrl = "<?= bgUrl ?>";
    const items = <?= items ?>; 
    const assetMap = JSON.parse('<?= assetMap ?>');

    const container = document.getElementById('container');
    container.style.backgroundImage = `url('${bgUrl}')`;

    items.forEach(item => {
      const parts = item.id.split('_');
      const assetName = parts[1]; 
      const assetInfo = assetMap[assetName];

      if (assetInfo) {
        const img = document.createElement('img');
        img.src = assetInfo.url;
        img.className = 'item';
        img.style.left = item.leftPercent + '%';
        img.style.top = item.topPercent + '%';
        img.style.width = assetInfo.width + 'px';
        container.appendChild(img);
      }
    });
  </script>
</body>
</html>
